[
  {
    "@id": "dtmi:example:lab:Incubator;1",
    "@type": "Interface",
    "@context": "dtmi:dtdl:context;2",
    "displayName": "Incubator",
    "description": "Bench-top biological incubator with heated chamber, optional CO2/humidity/vibration monitoring.",
    "contents": [
      {
        "@type": "Property",
        "name": "manufacturer",
        "schema": "string",
        "writable": false
      },
      {
        "@type": "Property",
        "name": "model",
        "schema": "string",
        "writable": false
      },
      {
        "@type": "Property",
        "name": "serialNumber",
        "schema": "string",
        "writable": false
      },
      {
        "@type": "Property",
        "name": "controlMode",
        "schema": {
          "@type": "Enum",
          "valueSchema": "string",
          "enumValues": [
            { "name": "TemperatureOnly", "enumValue": "temperature" },
            { "name": "TempHumidity", "enumValue": "temp_humidity" },
            { "name": "TempCO2", "enumValue": "temp_co2" },
            { "name": "Full", "enumValue": "full" }
          ]
        },
        "writable": true,
        "description": "Which subsystems are actively controlled."
      },
      {
        "@type": "Property",
        "name": "cycleProfile",
        "schema": {
          "@type": "Object",
          "fields": [
            { "name": "name", "schema": "string" },
            { "name": "durationMinutes", "schema": "integer" },
            { "name": "temperatureC", "schema": "double" },
            { "name": "humidityPct", "schema": "double" },
            { "name": "co2Pct", "schema": "double" }
          ]
        },
        "writable": true,
        "description": "Target profile for an incubation cycle."
      },
      {
        "@type": "Telemetry",
        "name": "cyclePhase",
        "schema": {
          "@type": "Enum",
          "valueSchema": "string",
          "enumValues": [
            { "name": "Idle", "enumValue": "idle" },
            { "name": "Preheat", "enumValue": "preheat" },
            { "name": "Stable", "enumValue": "stable" },
            { "name": "Running", "enumValue": "running" },
            { "name": "Cooling", "enumValue": "cooling" },
            { "name": "Fault", "enumValue": "fault" }
          ]
        },
        "description": "Current incubation phase."
      },
      {
        "@type": "Telemetry",
        "name": "powerState",
        "schema": {
          "@type": "Enum",
          "valueSchema": "string",
          "enumValues": [
            { "name": "Off", "enumValue": "off" },
            { "name": "On", "enumValue": "on" },
            { "name": "Standby", "enumValue": "standby" }
          ]
        },
        "description": "Power mode of the incubator."
      },
      {
        "@type": "Telemetry",
        "name": "vibrationRms",
        "schema": "double",
        "unit": "metrePerSecondSquared",
        "description": "Overall RMS vibration of the incubator chassis."
      },
      {
        "@type": "Relationship",
        "name": "contains",
        "target": "dtmi:example:lab:Chamber;1"
      },
      {
        "@type": "Relationship",
        "name": "controlledBy",
        "target": "dtmi:example:lab:Controller;1"
      },
      {
        "@type": "Relationship",
        "name": "raises",
        "target": "dtmi:example:lab:Alarm;1"
      },
      {
        "@type": "Command",
        "name": "startCycle",
        "request": {
          "name": "profile",
          "schema": "string"
        }
      },
      {
        "@type": "Command",
        "name": "stopCycle"
      },
      {
        "@type": "Command",
        "name": "acknowledgeAlarm",
        "request": {
          "name": "alarmId",
          "schema": "string"
        }
      },
      {
        "@type": "Component",
        "name": "chamber",
        "schema": "dtmi:example:lab:Chamber;1"
      },
      {
        "@type": "Component",
        "name": "controller",
        "schema": "dtmi:example:lab:Controller;1"
      },
      {
        "@type": "Component",
        "name": "alarm",
        "schema": "dtmi:example:lab:Alarm;1"
      }
    ]
  },
  {
    "@id": "dtmi:example:lab:Chamber;1",
    "@type": "Interface",
    "@context": "dtmi:dtdl:context;2",
    "displayName": "Chamber",
    "contents": [
      {
        "@type": "Telemetry",
        "name": "temperatureC",
        "schema": "double",
        "unit": "degreeCelsius",
        "description": "Measured chamber temperature."
      },
      {
        "@type": "Telemetry",
        "name": "humidityPct",
        "schema": "double",
        "unit": "percent",
        "description": "Measured chamber humidity."
      },
      {
        "@type": "Telemetry",
        "name": "co2Pct",
        "schema": "double",
        "unit": "percent",
        "description": "Measured chamber CO2 concentration."
      },
      {
        "@type": "Telemetry",
        "name": "vibrationRms",
        "schema": "double",
        "unit": "metrePerSecondSquared",
        "description": "RMS vibration within the chamber."
      },
      {
        "@type": "Property",
        "name": "vibrationThreshold",
        "schema": "double",
        "unit": "metrePerSecondSquared",
        "writable": true,
        "description": "Alarm threshold for chamber vibration."
      },
      {
        "@type": "Relationship",
        "name": "monitoredBy",
        "target": "dtmi:example:lab:Sensor;1"
      },
      {
        "@type": "Component",
        "name": "tempSensor",
        "schema": "dtmi:example:lab:TempSensor;1"
      },
      {
        "@type": "Component",
        "name": "humiditySensor",
        "schema": "dtmi:example:lab:HumiditySensor;1"
      },
      {
        "@type": "Component",
        "name": "co2Sensor",
        "schema": "dtmi:example:lab:CO2Sensor;1"
      },
      {
        "@type": "Component",
        "name": "vibrationSensor",
        "schema": "dtmi:example:lab:VibrationSensor;1"
      }
    ]
  },
  {
    "@id": "dtmi:example:lab:Controller;1",
    "@type": "Interface",
    "@context": "dtmi:dtdl:context;2",
    "displayName": "Controller",
    "contents": [
      {
        "@type": "Property",
        "name": "pidTemperature",
        "schema": {
          "@type": "Object",
          "fields": [
            { "name": "kp", "schema": "double" },
            { "name": "ki", "schema": "double" },
            { "name": "kd", "schema": "double" }
          ]
        },
        "writable": true
      },
      {
        "@type": "Telemetry",
        "name": "heaterPowerPct",
        "schema": "double",
        "unit": "percent",
        "description": "Heater power percentage."
      },
      {
        "@type": "Telemetry",
        "name": "humidifierDutyPct",
        "schema": "double",
        "unit": "percent",
        "description": "Humidifier duty cycle percentage."
      },
      {
        "@type": "Telemetry",
        "name": "co2ValveDutyPct",
        "schema": "double",
        "unit": "percent",
        "description": "CO2 valve duty cycle percentage."
      },
      {
        "@type": "Command",
        "name": "calibrateSensor",
        "request": {
          "name": "sensorType",
          "schema": {
            "@type": "Enum",
            "valueSchema": "string",
            "enumValues": [
              { "name": "Temperature", "enumValue": "temperature" },
              { "name": "Humidity", "enumValue": "humidity" },
              { "name": "CO2", "enumValue": "co2" },
              { "name": "Vibration", "enumValue": "vibration" }
            ]
          }
        }
      }
    ]
  },
  {
    "@id": "dtmi:example:lab:Alarm;1",
    "@type": "Interface",
    "@context": "dtmi:dtdl:context;2",
    "displayName": "Alarm",
    "contents": [
      {
        "@type": "Telemetry",
        "name": "active",
        "schema": "boolean"
      },
      {
        "@type": "Telemetry",
        "name": "code",
        "schema": "string",
        "description": "Active alarm code, if any."
      },
      {
        "@type": "Property",
        "name": "thresholds",
        "schema": {
          "@type": "Object",
          "fields": [
            { "name": "tempHighC", "schema": "double" },
            { "name": "tempLowC", "schema": "double" },
            { "name": "humidityHighPct", "schema": "double" },
            { "name": "humidityLowPct", "schema": "double" },
            { "name": "co2HighPct", "schema": "double" },
            { "name": "co2LowPct", "schema": "double" },
            { "name": "vibrationHigh", "schema": "double" }
          ]
        },
        "writable": true
      }
    ]
  },
  {
    "@id": "dtmi:example:lab:Sensor;1",
    "@type": "Interface",
    "@context": "dtmi:dtdl:context;2",
    "displayName": "Abstract Sensor",
    "contents": [
      {
        "@type": "Property",
        "name": "deviceId",
        "schema": "string",
        "writable": false
      },
      {
        "@type": "Property",
        "name": "model",
        "schema": "string",
        "writable": false
      },
      {
        "@type": "Property",
        "name": "lastCalibration",
        "schema": "dateTime",
        "writable": false
      }
    ]
  },
  {
    "@id": "dtmi:example:lab:TempSensor;1",
    "@type": "Interface",
    "@context": "dtmi:dtdl:context;2",
    "extends": ["dtmi:example:lab:Sensor;1"],
    "displayName": "Temperature Sensor",
    "contents": [
      {
        "@type": "Telemetry",
        "name": "temperatureC",
        "schema": "double",
        "unit": "degreeCelsius"
      }
    ]
  },
  {
    "@id": "dtmi:example:lab:HumiditySensor;1",
    "@type": "Interface",
    "@context": "dtmi:dtdl:context;2",
    "extends": ["dtmi:example:lab:Sensor;1"],
    "displayName": "Humidity Sensor",
    "contents": [
      {
        "@type": "Telemetry",
        "name": "humidityPct",
        "schema": "double",
        "unit": "percent"
      }
    ]
  },
  {
    "@id": "dtmi:example:lab:CO2Sensor;1",
    "@type": "Interface",
    "@context": "dtmi:dtdl:context;2",
    "extends": ["dtmi:example:lab:Sensor;1"],
    "displayName": "CO2 Sensor",
    "contents": [
      {
        "@type": "Telemetry",
        "name": "co2Pct",
        "schema": "double",
        "unit": "percent"
      }
    ]
  },
  {
    "@id": "dtmi:example:lab:VibrationSensor;1",
    "@type": "Interface",
    "@context": "dtmi:dtdl:context;2",
    "extends": ["dtmi:example:lab:Sensor;1"],
    "displayName": "Vibration Sensor",
    "contents": [
      {
        "@type": "Telemetry",
        "name": "vibrationRms",
        "schema": "double",
        "unit": "metrePerSecondSquared",
        "description": "RMS vibration amplitude."
      },
      {
        "@type": "Telemetry",
        "name": "peakVibration",
        "schema": "double",
        "unit": "metrePerSecondSquared",
        "description": "Peak vibration acceleration detected during sampling window."
      }
    ]
  }
]

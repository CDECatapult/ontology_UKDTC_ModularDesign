[
  {
    "@id": "dtmi:example:lab:Incubator;1",
    "@type": "Interface",
    "@context": "dtmi:dtdl:context;2",
    "displayName": "Incubator",
    "description": "Bench-top biological incubator with heated chamber and optional CO2/humidity control.",
    "contents": [
      {
        "@type": "Property",
        "name": "manufacturer",
        "schema": "string",
        "writable": false,
        "description": "Device OEM name."
      },
      {
        "@type": "Property",
        "name": "model",
        "schema": "string",
        "writable": false
      },
      {
        "@type": "Property",
        "name": "serialNumber",
        "schema": "string",
        "writable": false
      },
      {
        "@type": "Property",
        "name": "controlMode",
        "schema": {
          "@type": "Enum",
          "valueSchema": "string",
          "enumValues": [
            { "name": "TemperatureOnly", "value": "temperature" },
            { "name": "TempHumidity", "value": "temp_humidity" },
            { "name": "TempCO2", "value": "temp_co2" },
            { "name": "Full", "value": "full" }
          ]
        },
        "writable": true,
        "description": "Which subsystems are actively controlled."
      },
      {
        "@type": "Property",
        "name": "cycleProfile",
        "schema": {
          "@type": "Object",
          "fields": [
            { "name": "name", "schema": "string" },
            { "name": "durationMinutes", "schema": "integer" },
            { "name": "temperatureC", "schema": "double" },
            { "name": "humidityPct", "schema": "double" },
            { "name": "co2Pct", "schema": "double" }
          ]
        },
        "writable": true,
        "description": "Simple target profile for an incubation cycle."
      },
      {
        "@type": "Telemetry",
        "name": "cyclePhase",
        "schema": {
          "@type": "Enum",
          "valueSchema": "string",
          "enumValues": [
            { "name": "Idle", "value": "idle" },
            { "name": "Preheat", "value": "preheat" },
            { "name": "Stable", "value": "stable" },
            { "name": "Running", "value": "running" },
            { "name": "Cooling", "value": "cooling" },
            { "name": "Fault", "value": "fault" }
          ]
        },
        "description": "Current incuation phase."
      },
      {
        "@type": "Telemetry",
        "name": "powerState",
        "schema": {
          "@type": "Enum",
          "valueSchema": "string",
          "enumValues": [
            { "name": "Off", "value": "off" },
            { "name": "On", "value": "on" },
            { "name": "Standby", "value": "standby" }
          ]
        }
      },
      {
        "@type": "Relationship",
        "name": "contains",
        "displayName": "Contains Chamber",
        "target": "dtmi:example:lab:Chamber;1",
        "maxMultiplicity": 1
      },
      {
        "@type": "Relationship",
        "name": "controlledBy",
        "displayName": "Controlled By",
        "target": "dtmi:example:lab:Controller;1",
        "maxMultiplicity": 1
      },
      {
        "@type": "Relationship",
        "name": "raises",
        "displayName": "Raises Alarm",
        "target": "dtmi:example:lab:Alarm;1"
      },
      {
        "@type": "Command",
        "name": "startCycle",
        "request": {
          "name": "profile",
          "schema": "string",
          "description": "Optional profile name; if omitted, uses current cycleProfile."
        }
      },
      {
        "@type": "Command",
        "name": "stopCycle"
      },
      {
        "@type": "Command",
        "name": "acknowledgeAlarm",
        "request": {
          "name": "alarmId",
          "schema": "string"
        }
      },
      {
        "@type": "Component",
        "name": "chamber",
        "schema": "dtmi:example:lab:Chamber;1"
      },
      {
        "@type": "Component",
        "name": "controller",
        "schema": "dtmi:example:lab:Controller;1"
      },
      {
        "@type": "Component",
        "name": "alarm",
        "schema": "dtmi:example:lab:Alarm;1"
      }
    ]
  },
  {
    "@id": "dtmi:example:lab:Chamber;1",
    "@type": "Interface",
    "@context": "dtmi:dtdl:context;2",
    "displayName": "Chamber",
    "contents": [
      {
        "@type": "Property",
        "name": "doorOpen",
        "schema": "boolean",
        "writable": false
      },
      {
        "@type": "Property",
        "name": "targets",
        "schema": {
          "@type": "Object",
          "fields": [
            { "name": "temperatureC", "schema": "double" },
            { "name": "humidityPct", "schema": "double" },
            { "name": "co2Pct", "schema": "double" }
          ]
        },
        "writable": true
      },
      {
        "@type": "Telemetry",
        "name": "temperatureC",
        "schema": "double",
        "unit": "degreeCelsius"
      },
      {
        "@type": "Telemetry",
        "name": "humidityPct",
        "schema": "double",
        "unit": "percent"
      },
      {
        "@type": "Telemetry",
        "name": "co2Pct",
        "schema": "double",
        "unit": "percent"
      },
      {
        "@type": "Relationship",
        "name": "monitoredBy",
        "target": "dtmi:example:lab:Sensor;1"
      },
      {
        "@type": "Relationship",
        "name": "raises",
        "target": "dtmi:example:lab:Alarm;1"
      },
      {
        "@type": "Component",
        "name": "tempSensor",
        "schema": "dtmi:example:lab:TempSensor;1"
      },
      {
        "@type": "Component",
        "name": "humiditySensor",
        "schema": "dtmi:example:lab:HumiditySensor;1"
      },
      {
        "@type": "Component",
        "name": "co2Sensor",
        "schema": "dtmi:example:lab:CO2Sensor;1"
      }
    ]
  },
  {
    "@id": "dtmi:example:lab:Controller;1",
    "@type": "Interface",
    "@context": "dtmi:dtdl:context;2",
    "displayName": "Controller",
    "contents": [
      {
        "@type": "Property",
        "name": "pidTemperature",
        "schema": {
          "@type": "Object",
          "fields": [
            { "name": "kp", "schema": "double" },
            { "name": "ki", "schema": "double" },
            { "name": "kd", "schema": "double" }
          ]
        },
        "writable": true
      },
      {
        "@type": "Property",
        "name": "pidHumidity",
        "schema": {
          "@type": "Object",
          "fields": [
            { "name": "kp", "schema": "double" },
            { "name": "ki", "schema": "double" },
            { "name": "kd", "schema": "double" }
          ]
        },
        "writable": true
      },
      {
        "@type": "Property",
        "name": "pidCO2",
        "schema": {
          "@type": "Object",
          "fields": [
            { "name": "kp", "schema": "double" },
            { "name": "ki", "schema": "double" },
            { "name": "kd", "schema": "double" }
          ]
        },
        "writable": true
      },
      {
        "@type": "Telemetry",
        "name": "heaterPowerPct",
        "schema": "double",
        "unit": "percent"
      },
      {
        "@type": "Telemetry",
        "name": "humidifierDutyPct",
        "schema": "double",
        "unit": "percent"
      },
      {
        "@type": "Telemetry",
        "name": "co2ValveDutyPct",
        "schema": "double",
        "unit": "percent"
      },
      {
        "@type": "Command",
        "name": "calibrateSensor",
        "request": {
          "name": "sensorType",
          "schema": {
            "@type": "Enum",
            "valueSchema": "string",
            "enumValues": [
              { "name": "Temperature", "value": "temperature" },
              { "name": "Humidity", "value": "humidity" },
              { "name": "CO2", "value": "co2" }
            ]
          }
        }
      }
    ]
  },
  {
    "@id": "dtmi:example:lab:Alarm;1",
    "@type": "Interface",
    "@context": "dtmi:dtdl:context;2",
    "displayName": "Alarm",
    "contents": [
      {
        "@type": "Telemetry",
        "name": "active",
        "schema": "boolean"
      },
      {
        "@type": "Telemetry",
        "name": "code",
        "schema": "string",
        "description": "Current alarm code if active."
      },
      {
        "@type": "Property",
        "name": "thresholds",
        "schema": {
          "@type": "Object",
          "fields": [
            { "name": "tempHighC", "schema": "double" },
            { "name": "tempLowC", "schema": "double" },
            { "name": "humidityHighPct", "schema": "double" },
            { "name": "humidityLowPct", "schema": "double" },
            { "name": "co2HighPct", "schema": "double" },
            { "name": "co2LowPct", "schema": "double" }
          ]
        },
        "writable": true
      }
    ]
  },
  {
    "@id": "dtmi:example:lab:Sensor;1",
    "@type": "Interface",
    "@context": "dtmi:dtdl:context;2",
    "displayName": "Abstract Sensor",
    "contents": [
      { "@type": "Property", "name": "deviceId", "schema": "string", "writable": false },
      { "@type": "Property", "name": "model", "schema": "string", "writable": false },
      { "@type": "Property", "name": "lastCalibration", "schema": "dateTime", "writable": false }
    ]
  },
  {
    "@id": "dtmi:example:lab:TempSensor;1",
    "@type": "Interface",
    "@context": "dtmi:dtdl:context;2",
    "extends": [ "dtmi:example:lab:Sensor;1" ],
    "displayName": "Temperature Sensor",
    "contents": [
      { "@type": "Telemetry", "name": "temperatureC", "schema": "double", "unit": "degreeCelsius" }
    ]
  },
  {
    "@id": "dtmi:example:lab:HumiditySensor;1",
    "@type": "Interface",
    "@context": "dtmi:dtdl:context;2",
    "extends": [ "dtmi:example:lab:Sensor;1" ],
    "displayName": "Humidity Sensor",
    "contents": [
      { "@type": "Telemetry", "name": "humidityPct", "schema": "double", "unit": "percent" }
    ]
  },
  {
    "@id": "dtmi:example:lab:CO2Sensor;1",
    "@type": "Interface",
    "@context": "dtmi:dtdl:context;2",
    "extends": [ "dtmi:example:lab:Sensor;1" ],
    "displayName": "CO2 Sensor",
    "contents": [
      { "@type": "Telemetry", "name": "co2Pct", "schema": "double", "unit": "percent" }
    ]
  }
]
